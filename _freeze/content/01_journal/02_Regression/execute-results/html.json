{
  "hash": "92b55083dd9a4568ce77a67c5a035be1",
  "result": {
    "markdown": "---\ntitle: \"Supervised ML - Regression\"\nauthor: \"Arash Amiririgi\"\neditor_options: \n  chunk_output_type: console\n---\n\n\n**Challenge:**\nOur goal is to figure out what gaps exist in the products and come up with a pricing algorithm that will help us to determine a price, if we were to come up with products in that product cateogry.\n\n*Code:*\n\n\n\n\n::: {.cell hash='02_Regression_cache/html/unnamed-chunk-1_b320d507a30a811339783281ede21501'}\n\n```{.r .cell-code}\n# load libraries\nlibrary(tidyverse)\nlibrary(parsnip)\nlibrary(tidymodels)\nlibrary(rstanarm)\nlibrary(broom.mixed)\nlibrary(recipes)\nlibrary(rsample)\nlibrary(yardstick)\nlibrary(rpart.plot)\n```\n:::\n\n::: {.cell hash='02_Regression_cache/html/unnamed-chunk-2_051f296f4e42fec042c462b1ef4b2872'}\n\n```{.r .cell-code}\n# Build the model\nknitr::opts_chunk$set(message=FALSE,warning=FALSE, cache=TRUE)\noptions(dplyr.summarise.inform = FALSE)\noptions(warn=-1)\nbike_orderlines_tbl <- readRDS(\"bike_orderlines.rds\")\nmodel_sales_tbl <- bike_orderlines_tbl %>%\n  select(total_price, model, category_2, frame_material) %>%\n  group_by(model, category_2, frame_material) %>%\n  summarise(total_sales = sum(total_price)) %>%\n  ungroup() %>% arrange(desc(total_sales))\nmodel_sales_tbl %>% mutate(category_2 = as_factor(category_2) %>% \n                             fct_reorder(total_sales, .fun = max) %>% \n                             fct_rev()) %>%\n  ggplot(aes(frame_material, total_sales)) +\n  geom_violin() +\n  geom_jitter(width = 0.1, alpha = 0.5, color = \"#2c3e50\") +\n  facet_wrap(~ category_2) +\n  scale_y_continuous(labels = scales::dollar_format(scale = 1e-6, suffix = \"M\", accuracy = 0.1)) +\n  tidyquant::theme_tq() +\n  labs(title = \"Total Sales for Each Model\",x = \"Frame Material\", y = \"Revenue\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Registered S3 method overwritten by 'quantmod':\n#>   method            from\n#>   as.zoo.data.frame zoo\n```\n:::\n\n::: {.cell-output-display}\n![](02_Regression_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\nbike_features_tbl <- readRDS(\"bike_features_tbl.rds\")\nbike_features_tbl <- bike_features_tbl %>% \n  select(frame_material:gender, `Rear Derailleur`, `Shift Lever`) %>% \n  mutate(`shimano dura-ace`        = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano dura-ace \") %>% as.numeric(),\n         `shimano ultegra`         = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano ultegra \") %>% as.numeric(),\n         `shimano 105`             = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano 105 \") %>% as.numeric(),\n         `shimano tiagra`          = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano tiagra \") %>% as.numeric(),\n         `Shimano sora`            = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano sora\") %>% as.numeric(),\n         `shimano deore`           = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano deore(?! xt)\") %>% as.numeric(),\n         `shimano slx`             = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano slx\") %>% as.numeric(),\n         `shimano grx`             = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano grx\") %>% as.numeric(),\n         `Shimano xt`              = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano deore xt |shimano xt \") %>% as.numeric(),\n         `Shimano xtr`             = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano xtr\") %>% as.numeric(),\n         `Shimano saint`           = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano saint\") %>% as.numeric(),\n         `SRAM red`                = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram red\") %>% as.numeric(),\n         `SRAM force`              = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram force\") %>% as.numeric(),\n         `SRAM rival`              = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram rival\") %>% as.numeric(),\n         `SRAM apex`               = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram apex\") %>% as.numeric(),\n         `SRAM xx1`                = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram xx1\") %>% as.numeric(),\n         `SRAM x01`                = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram x01|sram xo1\") %>% as.numeric(),\n         `SRAM gx`                 = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram gx\") %>% as.numeric(),\n         `SRAM nx`                 = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram nx\") %>% as.numeric(),\n         `SRAM sx`                 = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram sx\") %>% as.numeric(),\n         `SRAM sx`                 = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram sx\") %>% as.numeric(),\n         `Campagnolo potenza`      = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"campagnolo potenza\") %>% as.numeric(),\n         `Campagnolo super record` = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"campagnolo super record\") %>% as.numeric(),\n         `shimano nexus`           = `Shift Lever`     %>% str_to_lower() %>% str_detect(\"shimano nexus\") %>% as.numeric(),\n         `shimano alfine`          = `Shift Lever`     %>% str_to_lower() %>% str_detect(\"shimano alfine\") %>% as.numeric()) %>%  \n  select(-c(`Rear Derailleur`, `Shift Lever`)) %>% \n  mutate_if(is.numeric, ~replace(., is.na(.), 0)) \n\nbike_features_tbl <- bike_features_tbl %>% \n  mutate(id = row_number()) %>% \n  mutate(frame_material = factor(frame_material)) %>%\n  select(id, everything()) \n\nbike_features_tbl %>% distinct(category_2)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"category_2\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Race\"},{\"1\":\"Endurance\"},{\"1\":\"E-Road\"},{\"1\":\"Cyclocross\"},{\"1\":\"Triathlon Bike\"},{\"1\":\"Fat Bikes\"},{\"1\":\"Cross-Country\"},{\"1\":\"Adventure\"},{\"1\":\"All-Road\"},{\"1\":\"E-Gravel\"},{\"1\":\"Trail\"},{\"1\":\"E-Mountain\"},{\"1\":\"Downhill\"},{\"1\":\"Dirt Jump\"},{\"1\":\"Enduro\"},{\"1\":\"E-City\"},{\"1\":\"E-Trekking\"},{\"1\":\"E-Fitness\"},{\"1\":\"City\"},{\"1\":\"Touring\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\nsplit_obj <- initial_split(bike_features_tbl, prop   = 0.80, strata = \"category_2\")\nsplit_obj %>% training() %>% distinct(category_2)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"category_2\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Race\"},{\"1\":\"Endurance\"},{\"1\":\"E-Road\"},{\"1\":\"Cyclocross\"},{\"1\":\"Triathlon Bike\"},{\"1\":\"Fat Bikes\"},{\"1\":\"Cross-Country\"},{\"1\":\"All-Road\"},{\"1\":\"E-Gravel\"},{\"1\":\"E-Mountain\"},{\"1\":\"Dirt Jump\"},{\"1\":\"Enduro\"},{\"1\":\"E-City\"},{\"1\":\"E-Trekking\"},{\"1\":\"E-Fitness\"},{\"1\":\"City\"},{\"1\":\"Touring\"},{\"1\":\"Adventure\"},{\"1\":\"Trail\"},{\"1\":\"Downhill\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\nsplit_obj %>% testing() %>% distinct(category_2)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"category_2\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Race\"},{\"1\":\"Endurance\"},{\"1\":\"Cyclocross\"},{\"1\":\"Triathlon Bike\"},{\"1\":\"Fat Bikes\"},{\"1\":\"Cross-Country\"},{\"1\":\"All-Road\"},{\"1\":\"E-Gravel\"},{\"1\":\"Adventure\"},{\"1\":\"Trail\"},{\"1\":\"E-Mountain\"},{\"1\":\"Downhill\"},{\"1\":\"Enduro\"},{\"1\":\"City\"},{\"1\":\"Touring\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\ntrain_tbl <- training(split_obj)\ntest_tbl  <- testing(split_obj)\ntrain_tbl <- train_tbl %>% set_names(str_replace_all(names(train_tbl), \" |-\", \"_\"))\ntest_tbl  <- test_tbl  %>% set_names(str_replace_all(names(test_tbl), \" |-\", \"_\"))\n```\n:::\n\n::: {.cell hash='02_Regression_cache/html/unnamed-chunk-3_97f2518a6c720bb3a144c85ae3dbd7bb'}\n\n```{.r .cell-code}\n# Create features with the recipes package\noptions(warn=-1)\nbike_rec <- recipe(frame_material ~ ., data = train_tbl) %>% \n  step_dummy(all_nominal(), -all_outcomes()) %>% \n  step_zv(all_predictors()) \n```\n:::\n\n::: {.cell hash='02_Regression_cache/html/unnamed-chunk-4_c7d1efdffb90ac2322388ad83f9abbd7'}\n\n```{.r .cell-code}\n# Bundle the model and recipe with the workflow package\noptions(warn=-1)\nlr_mod <- logistic_reg() %>% set_engine(\"glm\")\nbike_wflow <- workflow() %>%add_model(lr_mod) %>% add_recipe(bike_rec)\nbike_fit <- bike_wflow %>% fit(data = train_tbl)\nbike_fit %>% pull_workflow_fit() %>% tidy()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"term\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"estimate\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"std.error\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"statistic\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p.value\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"(Intercept)\",\"2\":\"-1.076267e+16\",\"3\":\"3.685701e+08\",\"4\":\"-29201142.5\",\"5\":\"0\"},{\"1\":\"id\",\"2\":\"6.980063e+13\",\"3\":\"1.494070e+06\",\"4\":\"46718463.2\",\"5\":\"0\"},{\"1\":\"weight\",\"2\":\"-2.482956e+14\",\"3\":\"7.702936e+06\",\"4\":\"-32233887.4\",\"5\":\"0\"},{\"1\":\"price\",\"2\":\"8.133505e+11\",\"3\":\"7.490608e+03\",\"4\":\"108582716.4\",\"5\":\"0\"},{\"1\":\"shimano_dura_ace\",\"2\":\"-1.949494e+15\",\"3\":\"9.650288e+07\",\"4\":\"-20201411.1\",\"5\":\"0\"},{\"1\":\"shimano_ultegra\",\"2\":\"1.244591e+15\",\"3\":\"9.124753e+07\",\"4\":\"13639728.3\",\"5\":\"0\"},{\"1\":\"shimano_105\",\"2\":\"5.964118e+14\",\"3\":\"9.249501e+07\",\"4\":\"6448042.5\",\"5\":\"0\"},{\"1\":\"shimano_tiagra\",\"2\":\"3.516656e+15\",\"3\":\"1.048370e+08\",\"4\":\"33544051.2\",\"5\":\"0\"},{\"1\":\"shimano_deore\",\"2\":\"4.920125e+12\",\"3\":\"4.117299e+07\",\"4\":\"119498.9\",\"5\":\"0\"},{\"1\":\"shimano_slx\",\"2\":\"-1.261101e+15\",\"3\":\"5.916600e+07\",\"4\":\"-21314619.5\",\"5\":\"0\"},{\"1\":\"shimano_grx\",\"2\":\"-4.269787e+15\",\"3\":\"7.803861e+07\",\"4\":\"-54713776.1\",\"5\":\"0\"},{\"1\":\"Shimano_xt\",\"2\":\"-2.597359e+15\",\"3\":\"3.735495e+07\",\"4\":\"-69531850.8\",\"5\":\"0\"},{\"1\":\"Shimano_saint\",\"2\":\"6.434681e+15\",\"3\":\"9.890493e+07\",\"4\":\"65059253.6\",\"5\":\"0\"},{\"1\":\"SRAM_red\",\"2\":\"1.910279e+15\",\"3\":\"9.870585e+07\",\"4\":\"19353251.1\",\"5\":\"0\"},{\"1\":\"SRAM_force\",\"2\":\"-5.490182e+14\",\"3\":\"8.677703e+07\",\"4\":\"-6326768.7\",\"5\":\"0\"},{\"1\":\"SRAM_rival\",\"2\":\"4.371141e+15\",\"3\":\"1.140543e+08\",\"4\":\"38325096.8\",\"5\":\"0\"},{\"1\":\"SRAM_apex\",\"2\":\"2.096678e+15\",\"3\":\"1.001657e+08\",\"4\":\"20932105.5\",\"5\":\"0\"},{\"1\":\"SRAM_xx1\",\"2\":\"-3.375375e+15\",\"3\":\"3.898225e+07\",\"4\":\"-86587501.2\",\"5\":\"0\"},{\"1\":\"SRAM_x01\",\"2\":\"7.817964e+14\",\"3\":\"2.707584e+07\",\"4\":\"28874314.4\",\"5\":\"0\"},{\"1\":\"SRAM_gx\",\"2\":\"5.119317e+14\",\"3\":\"3.217931e+07\",\"4\":\"15908720.4\",\"5\":\"0\"},{\"1\":\"SRAM_nx\",\"2\":\"-8.627681e+14\",\"3\":\"4.571924e+07\",\"4\":\"-18871009.6\",\"5\":\"0\"},{\"1\":\"SRAM_sx\",\"2\":\"-2.695977e+14\",\"3\":\"3.940059e+07\",\"4\":\"-6842478.7\",\"5\":\"0\"},{\"1\":\"Campagnolo_potenza\",\"2\":\"1.508538e+15\",\"3\":\"1.144791e+08\",\"4\":\"13177405.4\",\"5\":\"0\"},{\"1\":\"Campagnolo_super_record\",\"2\":\"-5.387105e+14\",\"3\":\"1.080330e+08\",\"4\":\"-4986535.3\",\"5\":\"0\"},{\"1\":\"shimano_nexus\",\"2\":\"-7.883048e+14\",\"3\":\"8.727479e+07\",\"4\":\"-9032445.3\",\"5\":\"0\"},{\"1\":\"shimano_alfine\",\"2\":\"-1.131403e+15\",\"3\":\"6.836231e+07\",\"4\":\"-16550101.5\",\"5\":\"0\"},{\"1\":\"category_1_Gravel\",\"2\":\"6.981978e+15\",\"3\":\"1.608594e+08\",\"4\":\"43404226.1\",\"5\":\"0\"},{\"1\":\"category_1_Hybrid...City\",\"2\":\"-3.800527e+15\",\"3\":\"9.989363e+07\",\"4\":\"-38045740.0\",\"5\":\"0\"},{\"1\":\"category_1_Mountain\",\"2\":\"-9.668646e+14\",\"3\":\"9.998592e+07\",\"4\":\"-9670007.4\",\"5\":\"0\"},{\"1\":\"category_1_Road\",\"2\":\"7.092193e+15\",\"3\":\"2.511496e+08\",\"4\":\"28238924.0\",\"5\":\"0\"},{\"1\":\"category_2_All.Road\",\"2\":\"-3.156573e+14\",\"3\":\"1.187620e+08\",\"4\":\"-2657898.3\",\"5\":\"0\"},{\"1\":\"category_2_City\",\"2\":\"-1.879985e+15\",\"3\":\"1.061925e+08\",\"4\":\"-17703554.6\",\"5\":\"0\"},{\"1\":\"category_2_Cross.Country\",\"2\":\"5.671965e+15\",\"3\":\"6.597686e+07\",\"4\":\"85969010.4\",\"5\":\"0\"},{\"1\":\"category_2_Cyclocross\",\"2\":\"1.826551e+15\",\"3\":\"4.392286e+07\",\"4\":\"41585417.5\",\"5\":\"0\"},{\"1\":\"category_2_Dirt.Jump\",\"2\":\"-2.756991e+15\",\"3\":\"5.221096e+07\",\"4\":\"-52804842.3\",\"5\":\"0\"},{\"1\":\"category_2_Downhill\",\"2\":\"-4.854931e+15\",\"3\":\"7.717412e+07\",\"4\":\"-62908792.2\",\"5\":\"0\"},{\"1\":\"category_2_E.City\",\"2\":\"-9.666010e+14\",\"3\":\"4.832248e+07\",\"4\":\"-20003132.7\",\"5\":\"0\"},{\"1\":\"category_2_E.Fitness\",\"2\":\"-4.693730e+15\",\"3\":\"8.294998e+07\",\"4\":\"-56585063.8\",\"5\":\"0\"},{\"1\":\"category_2_E.Gravel\",\"2\":\"1.117978e+16\",\"3\":\"1.579646e+08\",\"4\":\"70773934.0\",\"5\":\"0\"},{\"1\":\"category_2_E.Mountain\",\"2\":\"5.165788e+15\",\"3\":\"5.852110e+07\",\"4\":\"88272242.8\",\"5\":\"0\"},{\"1\":\"category_2_E.Road\",\"2\":\"9.951578e+15\",\"3\":\"2.620134e+08\",\"4\":\"37981172.4\",\"5\":\"0\"},{\"1\":\"category_2_E.Trekking\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_2_Endurance\",\"2\":\"4.803476e+14\",\"3\":\"5.126900e+07\",\"4\":\"9369163.1\",\"5\":\"0\"},{\"1\":\"category_2_Enduro\",\"2\":\"-1.969250e+15\",\"3\":\"5.387968e+07\",\"4\":\"-36549031.1\",\"5\":\"0\"},{\"1\":\"category_2_Fat.Bikes\",\"2\":\"7.183109e+15\",\"3\":\"1.489849e+08\",\"4\":\"48213677.0\",\"5\":\"0\"},{\"1\":\"category_2_Race\",\"2\":\"5.611136e+15\",\"3\":\"7.412744e+07\",\"4\":\"75695805.1\",\"5\":\"0\"},{\"1\":\"category_2_Touring\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_2_Trail\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_2_Triathlon.Bike\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Commuter\",\"2\":\"4.211226e+14\",\"3\":\"1.141017e+08\",\"4\":\"3690763.7\",\"5\":\"0\"},{\"1\":\"category_3_Commuter.ON\",\"2\":\"-3.989504e+15\",\"3\":\"7.204039e+07\",\"4\":\"-55378713.5\",\"5\":\"0\"},{\"1\":\"category_3_Dude\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Endurace\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Endurace.ON\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Exceed\",\"2\":\"3.776859e+14\",\"3\":\"7.541986e+07\",\"4\":\"5007778.5\",\"5\":\"0\"},{\"1\":\"category_3_Grail\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Grail.ON\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Grand.Canyon\",\"2\":\"5.604753e+15\",\"3\":\"8.819053e+07\",\"4\":\"63552779.4\",\"5\":\"0\"},{\"1\":\"category_3_Grand.Canyon.ON\",\"2\":\"-4.036563e+15\",\"3\":\"1.133360e+08\",\"4\":\"-35615899.3\",\"5\":\"0\"},{\"1\":\"category_3_Inflite\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Lux\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Neuron\",\"2\":\"1.494798e+14\",\"3\":\"4.547966e+07\",\"4\":\"3286739.5\",\"5\":\"0\"},{\"1\":\"category_3_Neuron.ON\",\"2\":\"-6.823856e+15\",\"3\":\"5.919986e+07\",\"4\":\"-115268108.7\",\"5\":\"0\"},{\"1\":\"category_3_Pathlite\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Pathlite.ON\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Precede.ON\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Roadlite\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Roadlite.ON\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Sender\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Spectral\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Spectral.ON\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Speedmax\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Stitched\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Strive\",\"2\":\"1.143748e+14\",\"3\":\"5.001098e+07\",\"4\":\"2286993.1\",\"5\":\"0\"},{\"1\":\"category_3_Torque\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\"},{\"1\":\"category_3_Ultimate\",\"2\":\"-8.037875e+15\",\"3\":\"9.849738e+07\",\"4\":\"-81604962.6\",\"5\":\"0\"},{\"1\":\"gender_unisex\",\"2\":\"-3.311794e+14\",\"3\":\"1.437630e+07\",\"4\":\"-23036478.1\",\"5\":\"0\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\nbike_predict <- predict(bike_fit, test_tbl, type=\"prob\") %>% \n  bind_cols(test_tbl %>% select(frame_material, category_2)) \nbike_predict %>% roc_curve(truth = frame_material, .pred_aluminium) %>% \n  autoplot()\n```\n\n::: {.cell-output-display}\n![](02_Regression_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nbike_predict %>% \n  roc_curve(truth = frame_material, .pred_carbon) %>% \n  autoplot()\n```\n\n::: {.cell-output-display}\n![](02_Regression_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n\n```{.r .cell-code}\nbike_predict\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".pred_aluminium\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".pred_carbon\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"frame_material\"],\"name\":[3],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"category_2\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Race\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Race\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Race\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Race\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"aluminium\",\"4\":\"Endurance\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"Endurance\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"Endurance\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"Endurance\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Endurance\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Endurance\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Cyclocross\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"Triathlon Bike\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Triathlon Bike\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Triathlon Bike\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Race\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Race\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"Race\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"Fat Bikes\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Cross-Country\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"Cross-Country\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"All-Road\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"E-Gravel\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"All-Road\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"All-Road\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"All-Road\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Adventure\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"Trail\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"aluminium\",\"4\":\"Trail\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"E-Mountain\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"E-Mountain\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Cross-Country\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Cross-Country\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"Cross-Country\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"Trail\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"Trail\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"Trail\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"Downhill\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"Trail\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"Trail\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"E-Mountain\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"Enduro\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"carbon\",\"4\":\"Enduro\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"City\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"Touring\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"City\"},{\"1\":\"1.000000e+00\",\"2\":\"2.220446e-16\",\"3\":\"aluminium\",\"4\":\"City\"},{\"1\":\"2.220446e-16\",\"2\":\"1.000000e+00\",\"3\":\"carbon\",\"4\":\"City\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\nbike_predict %>% roc_auc(truth = frame_material, .pred_aluminium)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"roc_auc\",\"2\":\"binary\",\"3\":\"0.7439516\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\nroc_car <- bike_predict %>% roc_auc(truth = frame_material, .pred_carbon)\n```\n:::\n\n::: {.cell hash='02_Regression_cache/html/unnamed-chunk-5_72bbdf50283e494b098eb67f8b3d8cf7'}\n\n```{.r .cell-code}\n# Evaluate your model with the yardstick package\noptions(warn=-1)\nmodel_01_linear_lm_simple <- linear_reg(mode = \"regression\") %>%\n  set_engine(\"lm\") %>%\n  fit(price ~ category_2 + frame_material, data = train_tbl)\nmodel_01_linear_lm_simple\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> parsnip model object\n#> \n#> \n#> Call:\n#> stats::lm(formula = price ~ category_2 + frame_material, data = data)\n#> \n#> Coefficients:\n#>              (Intercept)        category_2All-Road            category_2City  \n#>                  2064.64                    -70.69                  -1123.87  \n#>  category_2Cross-Country      category_2Cyclocross       category_2Dirt Jump  \n#>                   422.78                   -319.38                   -798.97  \n#>       category_2Downhill          category_2E-City       category_2E-Fitness  \n#>                  2282.18                   1004.79                    977.70  \n#>       category_2E-Gravel      category_2E-Mountain          category_2E-Road  \n#>                  1696.67                   1316.48                    854.36  \n#>     category_2E-Trekking       category_2Endurance          category_2Enduro  \n#>                  1260.08                   -469.88                    630.39  \n#>      category_2Fat Bikes            category_2Race         category_2Touring  \n#>                  -970.00                   1096.92                   -851.35  \n#>          category_2Trail  category_2Triathlon Bike      frame_materialcarbon  \n#>                  -177.79                    702.31                   1534.36\n```\n:::\n\n```{.r .cell-code}\ntest_tbl <- test_tbl %>% filter(category_2 != \"Fat Bikes\")\n\nmodel_01_linear_lm_simple %>%\n  predict(new_data = test_tbl) %>%\n  bind_cols(test_tbl %>% select(price)) %>%\n  metrics(truth = price, estimate = .pred)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"1233.3468743\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.4602353\"},{\"1\":\"mae\",\"2\":\"standard\",\"3\":\"879.0668368\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\ng1 <- bike_features_tbl %>% \n  mutate(category_2 = as.factor(category_2) %>% \n           fct_reorder(price)) %>% \n  ggplot(aes(category_2, price)) +\n  geom_violin() +\n  geom_jitter(width = 0.1, alpha = 0.5, color = \"#2dc6d6\") +\n  coord_flip() +\n  facet_wrap(~ frame_material) +\n  scale_y_continuous(labels = dollar_format()) +\n  labs( title = \"Unit Price for Each Model\", y = \"\", x = \"Category 2\")\ng1\n```\n\n::: {.cell-output-display}\n![](02_Regression_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nnew_trail <- tibble(\n  model = \"Exceed AL SL new\",\n  category_2 = \"Trail\",\n  frame_material = \"aluminium\",\n  shimano_dura_ace = 0,\n  shimano_ultegra = 0,\n  shimano_105 = 0,\n  shimano_tiagra = 0,\n  Shimano_sora = 0,\n  shimano_deore = 0,\n  shimano_slx = 0,\n  shimano_grx = 0,\n  Shimano_xt = 1,\n  Shimano_xtr = 0,\n  Shimano_saint = 0,\n  SRAM_red = 0,\n  SRAM_force = 0,\n  SRAM_rival = 0,\n  SRAM_apex = 0,\n  SRAM_xx1 = 0,\n  SRAM_x01 = 0,\n  SRAM_gx = 0,\n  SRAM_nx = 0,\n  SRAM_sx = 0,\n  Campagnolo_potenza = 0,\n  Campagnolo_super_record = 0,\n  shimano_nexus = 0,\n  shimano_alfine = 0)\nnew_trail\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"model\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"category_2\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"frame_material\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"shimano_dura_ace\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_ultegra\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_105\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_tiagra\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_sora\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_deore\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_slx\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_grx\"],\"name\":[11],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_xt\"],\"name\":[12],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_xtr\"],\"name\":[13],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_saint\"],\"name\":[14],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_red\"],\"name\":[15],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_force\"],\"name\":[16],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_rival\"],\"name\":[17],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_apex\"],\"name\":[18],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_xx1\"],\"name\":[19],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_x01\"],\"name\":[20],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_gx\"],\"name\":[21],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_nx\"],\"name\":[22],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_sx\"],\"name\":[23],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Campagnolo_potenza\"],\"name\":[24],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Campagnolo_super_record\"],\"name\":[25],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_nexus\"],\"name\":[26],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_alfine\"],\"name\":[27],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Exceed AL SL new\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"0\",\"5\":\"0\",\"6\":\"0\",\"7\":\"0\",\"8\":\"0\",\"9\":\"0\",\"10\":\"0\",\"11\":\"0\",\"12\":\"1\",\"13\":\"0\",\"14\":\"0\",\"15\":\"0\",\"16\":\"0\",\"17\":\"0\",\"18\":\"0\",\"19\":\"0\",\"20\":\"0\",\"21\":\"0\",\"22\":\"0\",\"23\":\"0\",\"24\":\"0\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\npredict(model_01_linear_lm_simple, new_data = new_trail)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".pred\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1886.849\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\nmodels_tbl <- tibble(\n  model_id = str_c(\"Model 0\", 1:1),\n  model = list(\n    model_01_linear_lm_simple))\n\nmodels_tbl\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"model_id\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"model\"],\"name\":[2],\"type\":[\"list\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Model 01\",\"2\":\"<S3: _lm>\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\npredictions_new_trail_tbl <- models_tbl %>%\n  mutate(predictions = map(model, predict, new_data = new_trail)) %>%\n  unnest(predictions) %>%\n  mutate(category_2 = \"Trail\") %>%\n  left_join(new_trail, by = \"category_2\")\npredictions_new_trail_tbl\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"model_id\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"model.x\"],\"name\":[2],\"type\":[\"list\"],\"align\":[\"right\"]},{\"label\":[\".pred\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"category_2\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"model.y\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"frame_material\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"shimano_dura_ace\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_ultegra\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_105\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_tiagra\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_sora\"],\"name\":[11],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_deore\"],\"name\":[12],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_slx\"],\"name\":[13],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_grx\"],\"name\":[14],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_xt\"],\"name\":[15],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_xtr\"],\"name\":[16],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_saint\"],\"name\":[17],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_red\"],\"name\":[18],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_force\"],\"name\":[19],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_rival\"],\"name\":[20],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_apex\"],\"name\":[21],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_xx1\"],\"name\":[22],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_x01\"],\"name\":[23],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_gx\"],\"name\":[24],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_nx\"],\"name\":[25],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_sx\"],\"name\":[26],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Campagnolo_potenza\"],\"name\":[27],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Campagnolo_super_record\"],\"name\":[28],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_nexus\"],\"name\":[29],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_alfine\"],\"name\":[30],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Model 01\",\"2\":\"<S3: _lm>\",\"3\":\"1886.849\",\"4\":\"Trail\",\"5\":\"Exceed AL SL new\",\"6\":\"aluminium\",\"7\":\"0\",\"8\":\"0\",\"9\":\"0\",\"10\":\"0\",\"11\":\"0\",\"12\":\"0\",\"13\":\"0\",\"14\":\"0\",\"15\":\"1\",\"16\":\"0\",\"17\":\"0\",\"18\":\"0\",\"19\":\"0\",\"20\":\"0\",\"21\":\"0\",\"22\":\"0\",\"23\":\"0\",\"24\":\"0\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\ng2 <- g1 +\n  geom_point(aes(y = .pred), color = \"red\", alpha = 0.5,\n             data = predictions_new_trail_tbl) +\n  ggrepel::geom_text_repel(aes(label = model_id, y = .pred),\n                           size = 5,\n                           data = predictions_new_trail_tbl)\ng2\n```\n\n::: {.cell-output-display}\n![](02_Regression_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}